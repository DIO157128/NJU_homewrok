# Uwiki项目使用文档

## 组员信息

| 组员姓名 | 组员学号  |
| -------- | --------- |
| 郁博文   | 201250070 |
| 邢佳勇   | 201250071 |
| 陈子凡   | 201250072 |
| 游莫凡   | 201250073 |
| 郑启睿   | 201250229 |

## 项目描述

- 本产品是一个基于微信小程序开发的带有wiki功能的项目管理软件。主要功能为团队管理、团队wiki管理等。

- 本产品可以用来帮助一个项目组内成员快速的共享信息，当团队着手于一个项目的解决时，详细负责各部分的组员可以将自己负责部分的信息总结，形成Wiki条目上传到组内共享池内，以便项目成员可以快速地进行信息的互通有无。
- 本产品同时具备初步的社区功能，一个项目的成员可以选择将本组内的条目公开，以帮助有相同信息需求的用户获取信息；同时一个项目的成员也可以将本组完成项目时遇到的问题以及解决的流程形成条目共享，以帮助其他用户解决相似问题。

## 数据库说明

### todo

该数据库用于存储录入条目信息，其中字段包括创建者的openid，该条目的标题title，该条目的详细描述desc，是否公开此条目pri，是否将该条目置星star，该条目所在的项目groupid

### group

该数据库用于存放项目信息，其中字段包括该项目所对应的唯一标识符groupid，该项目的名称title，该项目的描述desc.

### map

该数据用于存放用户标识信息与它对应的项目信息，即构建了一个groupid和userid的映射

## 功能模块

### 登录

进入小程序后，系统会弹出授权框，用户点击授权后系统会记录用户的openid用于后续数据的生成与处理。

### 个人中心

用户授权完毕后，系统会重定向至“个人中心”界面，此时下方的bar会显示三个模块可供用户点击并跳转（后续详细说明），个人中心截图如下：

![image-20220626151740421](C:\Users\dell\AppData\Roaming\Typora\typora-user-images\image-20220626151740421.png)

#### 

下面对个人中心的四个子模块进行详细功能说明

#### 创建项目

点击该navigator后，系统会跳转至创建项目子页面，用户需要输入项目名称和项目简述来创建项目。之后，系统会根据项目名称和用户的openid使用hash函数来生成一个可以用来唯一标识项目的标识码，随后会将该用户信息openid与生成的groupid写入group数据库

![image-20220626153625940](C:\Users\dell\AppData\Roaming\Typora\typora-user-images\image-20220626153625940.png)

#### 切换项目

点击该navigator后，系统会搜索map数据库，将当前用户所在的项目的项目名称和项目groupid展示给用户，同时提供单选项框供用户切换当前所在项目。

![image-20220626153611780](C:\Users\dell\AppData\Roaming\Typora\typora-user-images\image-20220626153611780.png)

#### 加入项目

点击该navigator后，系统会跳转至加入项目界面。在该界面中，用户可以输入项目邀请码，也就是系统生成的groupid来加入项目，在点击“加入项目“后，系统会更新map数据库并增添一条新的映射。

![image-20220626153818884](C:\Users\dell\AppData\Roaming\Typora\typora-user-images\image-20220626153818884.png)

#### 使用说明

点击该navigator后，系统会展示一段简单的小程序使用说明，帮助用户快速上手该小程序

### 主页

在该界面中，系统会查询todo数据库中所有属于当前项目的条目并显示条目的标题和介绍

![image-20220626154231297](C:\Users\dell\AppData\Roaming\Typora\typora-user-images\image-20220626154231297.png)



#### 编辑条目

点击条目后会显示该条目的详细信息。

![image-20220626154803950](C:\Users\dell\AppData\Roaming\Typora\typora-user-images\image-20220626154803950.png)

依据该用户是否拥有当前条目的编辑权限，用户可以在此子页面编辑修改条目信息，完成编辑操作后，系统会更新todo数据库并更新相关条目信息。

#### 添加条目

用户点击右下角的加号圆框会跳转至添加条目界面，

![image-20220626155552757](C:\Users\dell\AppData\Roaming\Typora\typora-user-images\image-20220626155552757.png)

用户输入相关信息后，系统会更新todo数据库，添加条目信息。同时用户可以添加附件

#### 查看附件

如果用户在添加条目时添加了附件，那么用户可以点击查看附件查看先前编辑用户上传的附件，同时可以选择删除或下载附件，后面两个功能在条目框右侧展示

![image-20220626160304676](C:\Users\dell\AppData\Roaming\Typora\typora-user-images\image-20220626160304676.png)

#### 条目右滑拓展功能

右滑一个条目后，会出现星标和删除两个选项

![image-20220626155833116](C:\Users\dell\AppData\Roaming\Typora\typora-user-images\image-20220626155833116.png)

##### 星标

点击星标后，会在条目右侧添加一个星标图标，更具有提示效果。

![image-20220626155910047](C:\Users\dell\AppData\Roaming\Typora\typora-user-images\image-20220626155910047.png)

##### 删除

点击删除后，系统会更新todo数据库，将该条目信息从数据库中移除。

### 广场

在广场中，系统会展示当前数据库中拥有的所有的项目。

![image-20220626160545422](C:\Users\dell\AppData\Roaming\Typora\typora-user-images\image-20220626160545422.png)

用户在点击项目后，系统会跳转至该项目的条目展示界面。具体展示逻辑如下：

- 如果用户位于当前项目，即系统的map数据库中存在用户的openid和该项目的groupid的映射，那么系统会展示该项目中所有的条目，就如同主页一样。

![image-20220626160800299](C:\Users\dell\AppData\Roaming\Typora\typora-user-images\image-20220626160800299.png)

> 如上图所示，当前用户位于项目”计算机网络“中，所以用户点击”计算机网络“项目后显示的条目和主页显示的条目并无差异。

- 如果用户不位于当前项目，即系统的map数据库中不存在用户的openid和该项目的groupid的映射，那么系统会展示该项目中权限被设置为非私密的条目。

![image-20220626161132388](C:\Users\dell\AppData\Roaming\Typora\typora-user-images\image-20220626161132388.png)

> 如上图所示，当前用户并不在项目”近代史“中，而近代史中不存在权限为公开的条目，因此用户无法看到该项目中的条目。

## 使用说明

如果您是项目的管理者，那么您应该：

1、点击创建项目，输入项目名称和项目描述。

2、将系统生成的项目邀请码分享给您的小组成员，用来加入您的项目。

如果您是项目的参与者，那么您可以：

1、点击加入项目，输入项目管理者提供给您的邀请码以加入项目

2、点击切换项目，选择您想浏览的项目名称来切换到那个项目。

3、点击导航栏中的主页模块，您可以查看您当前所在项目下所有的条目。

4、点击导航栏中的广场模块，您可以查看全世界所有的项目，如果您想详细了解项目，您可以点击项目以进入，您可以看到该项目所有的公开条目。


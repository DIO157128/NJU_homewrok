# 助教数据分析

## 步骤一

对将助教给予的软工文本和社交文本放入Sentistrenth跑出trinary得分后与助教给出的得分进行比较，其中因为社交文本具有正负积极性两个属性，我们需要判断句子总体是积极的还是消极的，于是对助教给出的数据进行初步的处理，将积极分数减去消极分数得出的分数作为依据判断句子的总体性质。若为正，则句子总体为积极，若为负，则句子总体为消极，若为0，且消极分数的绝对值等于积极分数的绝对值，则句子为中性，否则为消极。

### 结果

如下图，Sentistrenth在软工文本上结果正确率比在社交文本上得到的结果正确率总体高约5%

![1](img\1.png)

## 步骤二

对将助教给予的软工文本和社交文本放入Sentistrenth跑出trinary得分与助教给出的得分进行比较，这一次我们对于积极性，消极性，中性分别比较，判断Sentistrenth在判断积极性，判断消极性，判断中性上分别的效果，得出混淆矩阵和热力图，计算recall和precision。



### 结果图

​																					

![result](img\result.jpg)

​																									**总体情况图**

​																							

​                                            ![sc_bbc1000](img\sc_bbc1000.jpg)	

​																							**sc_bbc1000热力矩阵**





​											![sc_myspace1041](img\sc_myspace1041.jpg) 

​																						**sc_myspace1041热力矩阵**









​											![se_app_review](img\se_app_review.jpg)

​																							**se_app_review热力矩阵**









![se_sof4423](img\se_sof4423.jpg)

​																							**se_sof4423热力矩阵**

### 结果分析

#### 对于precision

- 首先，可以发现Sentestrengh对于社交文本的**预测准确性非常不稳定**，对于sc_bbc1000的预测，precision分别为0.38，0.43，0.94（消极，中性，积极，之后沿用此顺序），而对于sc_myspace1041的预测，precision分别为0.81，0.51，0.60，而相比较而言，软工文本的**预测准确性比较稳定**，precision稳定在0.85-0.90，0.90-0.92，0.66之间，浮动相较于社交文本非常小。
- 其次，软工文本的预测准确性总体要高于社交文本的预测准确性，除了在预测积极性的时候sc_bbc的准确率异常高，这应该属于还有**除了SenteStrengh考虑到的参数之外的参数没被发现而在现实生活中起到了情绪影响的作用**，其余情况社交文本预测准确性均小于软公文本

#### 对于recall

- 和precision的分析结果一样，Sentistrengh对于社交文本的预测召回率也非常不稳定，于sc_bbc1000的预测，recall分别为0.64，0.71，0.79，而对于sc_myspace1041的预测，recall分别为0.86，0.55，0.46，这表明**Sentistrengh并不能精准把握的判断社交文本中的情绪值**，**recall率的方差很大代表了Sentistrengh在社交文本预测召回率高的时候可能只是碰巧**，而软工文本的预测召回率比较稳定，recall稳定在0.92，0.61-0.63，0.88-0.93，**浮动小代表预测的数值的可信程度高，预测结果更加稳定**

- 其次，在召回率方面，软工文本的预测召回率总体要高于社交文本的预测召回率，在预测消极情绪方面相差20%的精准性，由此可见，对于Sentistrengh对于软工文本的情绪辨别准确率高，尤其是消极情绪。

#### 总结

- 社交文本的预测准确性和召回率波动程度大，时而可信时而不可信，而软工文本的波动程度小，**表明Sentistrengh对于软工文本的预测具有普适性，不会受采样方式的改变而影响结果**。
- 社交文本的预测准确性和召回率数值总体程度上均小于软工文本，**这表明Sentistregh对于软工文本的预测结果更加准确，Sentistrengh项目更适合去做软工文本的情绪分析**。



## 原因列举

### 语言学上的基础先验知识

语言有两种“表意”功能，分别为“表意义”和“表意思”，以下为分别的具体解释

#### **表意义**

##### 解释

“意义”，即事物存在的价值。在这里，我们用“表意义”来形容这段文字是用来阐明一个事实，说明一个道理，或者传递信息。这种文字一般情况下都是结果导向的，即相对于共情，诉说者更在意句子的正确性，句子的有效性。换句话说，在这种情况下，我们关心的是事物本身的存在，这是一种客观的既定事实，而不是基于模糊的人类情感。

##### 举例

例如单词“愤怒”，如果表“意义”，那么仅仅指一种愤怒的情绪，不包含其他任何的意思。如果搭配成句子，例如“我现在很愤怒”，那么愤怒的价值或者说信息量就会被体现，表明我现在具有愤怒的情绪，情绪的强度为很强，这其实是一种结果，在阐述我很愤怒这个事实。此时Sentistrenth对于愤怒的单词情绪性分析就是正确的。

#### 表意思

##### 解释

”意思“，多指内心的思想和认知。”表意思“的语言由于和内心有关，所以它的语言性质和人的内心一样是发散的，灵感迸发的，变化性不可捉摸的。这类的文字相对于结果的正确性，更强调人的共情，企图用各种手段来连接人与人之间的感受。在这种情况下，我们强调人与人之间情感的流动，我们不会过分咬文嚼字，需要传递的情感是通过人的社会知识与表面文字意义互相映射生成的。

##### 举例

文学上的通感手法，诗歌这些都是表意文字。具体例子：”我的心情很蓝“。在诉说者本人不喜欢蓝色的情况下，这句话应该是消极的，但如果诉说者本人是喜欢蓝色的，那么这句话就是积极的。很明显Sentistrengh是不敢为颜色这类单词赋予先验情绪分数的。因为就像这句话中的蓝一样，如果没有上下文，我们是无法知道蓝到底是什么意思的。

### 软工文本和社交文本的区别

**软工文本**：在stackoverflow（即软工文本数据集）上的文本语言大多是交流问题，得出结果的，即语言是结果为导向的，程序员说话会尽可能地表明自己的意图和想法，这种语言通常是表意义的，即用户是为了信息的正确性和有效性而说话的。在这种情况下，语言一般是有模板的，即正式语言。

**社交文本**：在社交文本上，如果不是为了文学性，那么人的语言会突出随意的性质。即像聊天一般，心里想说什么就说什么，没有模板，即口语。即使是文学性，也是为了人的内心共鸣而服务的，故而我们可以说，社交文本语言很多是表意思的。当然，由于社交语言的随意性，他也可能只是单纯的表意义，例如新闻和事件的通告，如此种种。所以社交文本语言是表意义和表意思混合的。

#### 在情绪上的差别

**软工文本**：通过上文我们知道，软工文本语言会尽量的趋向模板化，即每一个词的用法都是精确的，那么在情绪表达上自然就是精确的。

**社交文本**：社交文本具有随意性，口语化或文学性的表达使得不管是语义还是情绪的表达都是随意，变化多样的，在情绪上尤甚。例如反语，诗歌，修辞这些语言学手法通常会夸张情绪。地域性的语言特点也会影响情绪的表达，例如日本人如果说今晚月色很美，那么这句话应该是非常积极的，应该是积极情绪分数为5的文本，而Sentistrengh只给了3分，因为日本的文化特性导致了他们语言表达上的含蓄。所以，社交文本这种复杂甚至混沌模型在情绪上的表达是千奇百怪的，很难用一个模型就能统一的。

### Sentistrengh的情绪分析方法

将输入的文字拆分成单词，句子，段落三个部分。对于每一个单词赋予情绪分数，将单词组成一个个句子，在组成句子的过程中，通过不同的选项选择不同的方法利用句子中的每个单词的情绪分数计算出整个句子的分数，段落同理。		

## 正确性差距分析

Sentistrengh的情绪分析方法可以理解为一个模板，这个模板为所有的单词赋予了情绪值，为句子和段落的组成赋予了不同的分析方法。所以自然而然，对于几乎是标准化的，本身有一定定式语言成分的软工文本而言，Sentistrength的情绪分析结果的正确率较高。但是对于社交文本而言并非如此。由于它不仅在交流中起到了意义传达的作用，同时还承担了讲述者自身的情感传递需求，换而言之，社交文本是一种“表意义”和“表意思”的二元结合的产物。多出来的“意思”维度使得对于社交文本的分析难度加大，因而Sentistrength在社交文本上的分析正确率不高。

总而言之，Sentistrengh对于用模板语言，即正式语言去表述的软工文本的分析正确率高，而对于形式上更多样化，口语化，表意思和表意义混用的社交文本语言的分析正确性略低。

## Sentistrengh的补救方法

我们知道，Sentistrengh的分析方法在对表意思语言的情绪分析上略有不足，这是因为表意思语言需要结合当前的上下文，诉说者的特性等等交流的及时状态。可以说，表意思语言的情绪是一个复杂模型甚至混沌模型。那么，Sentistrengh提供了一些分析选项来拟合这些情绪特性。例如：

在疑问句中忽视消极情绪，具体例子为：你现在还在愤怒吗？ 在这个句子中，愤怒其实仅仅代表了愤怒的情绪，而句子总体是在关怀他人的，所以应该是积极的。如果不加此选项来分析，那么Sentistrengh会认为这是消极的句子，因为它包含了愤怒这一消极的词。

然而，在通读过关于Sentistrengh的论文后，我们发现这类选项其实并没有很好的效果。

## 我的想法

很明显，Sentistrengh在开发之始并没有考虑到语言上的差异，而仅仅考虑语言分类的相关知识和论文，所以这就导致了它在开发后续的对于表意思的语言的情绪分析时做了一些可有可无的工作。可以说，目前的Sentistrengh是一个夹杂在表意义语言和表意思语言之间的情绪分析模型。如果要使得后续开发更加有效，分析更加精确，我们需要对于文本的意思和意义进行分析，先初步判断文本是表意思还是表意义还是混用的。对于表意义语言，可以用原版Sentistrengh进行分析。对于表意思语言和混用语言，需要结合上下文来分析，这可能会非常困难。总结起来就是，首先判断语言中是否含有意思，将具有意思的语言中的混乱复杂的意思转化为意义，之后再用Sentistrengh分析。
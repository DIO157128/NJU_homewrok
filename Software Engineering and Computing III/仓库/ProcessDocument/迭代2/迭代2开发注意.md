# 迭代2开发注意

## 关于仓库变更

- git.nju.edu.cn目前是主力代码托管平台
- 已将git.nju.edu.cn与初始仓库设置镜像

## 关于分支开发的说明

- iteration2_develop用于迭代2后端开发的develop分支，在迭代二任何开发**请不要直接提交到主分支 (非常重要)**, 从现在开始，master分支只用于发行可运行版本；所以每次提交前请确保处在该分支下
- 从迭代二开始，需要采用多分支开发，请了解git flow流程 [gitflow介绍_一条没有感情的小鲤鱼的博客-CSDN博客](https://blog.csdn.net/ku_carp/article/details/119105237)

## 关于jar包发布的说明

- 本组从4.4日之后改用repo.nju.edu.cn来发布和管理jar包
- 请注意！在develop分支下和matser分支下部署的jar包分别对应snapshot和release版本，需要确保release版本的jar一定经过完善的测试，具有向外发布的稳定功能；同时snapshot对应开发时jar包，成员在develop分支下的每次push都会上传一个带有时间戳的snapshot jar包；如果后端需要用到开发版本的jar包，请 一定注意后端项目的pom.xml使用的依赖是最新的版本

- 当代码从当前develop分支合并到master分支后即会触发构建，发布一个release版本的jar包，因此请不要随意合并分支；任何合并分支的操作请在小组开会讨论后由专人执行，同时监督产物的构建情况；同时，请注意！master触发构建的jar包一定是release版本的，在提交master时，一定注意pom记述的version的版本号正确（**不允许带有SNAPSHOT后缀！**）


- 如何触发新发布
  - 将dev分支的更新git push至远端
  - 在主分支git tag -a vx.x.x
  - git push origin vx.x.x 将tag提交到远端
  - git merge iteration2_develop
  - git push